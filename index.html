<!DOCTYPE html>
<html>

<head>
    <title>MyPortfolio - Matthew Hill</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body onload="quickTransition(false)">
    <div id="mySidenav" class="sidenav">
        <a href="#">About Me</a>
        <a href="www.linkedin.com/in/matthew-hill-9b56a5197">LinkedIn</a>
        <a href="https://github.com/BL4ZE360">GitHub</a>
        <a href="#">Assisted Bridge</a>
        <a href="#">Mento</a>
    </div>
    <div id="leftCol">
        <div class="iconContainer" onclick="iconTransition(this)" onmouseenter="iconHover(this)" onmouseleave="iconHover(this)">
            <div class="bar1" id="bar1"></div>
            <div class="gap"></div>
            <div class="bar2"></div>
            <div class="gap"></div>
            <div class="bar3"></div>
        </div>
    </div>
    <div id="main" class="main" onscroll="quickTransition(true); textFading()">
        <div id="background"></div>
        <div id="text" class="text">
            <div id="content" class="content">
                <div id="title">MyPortfolio - Matthew Hill</div>
                <div class="section" id="part1">
                    <div class="subtitle">About Me</div>
                    <hr size="6px" color="#6ca7e0">
                    <div class="para">
                        <div class="textContainer">
                            <div class="innerText">
                                I am a soon-to-be graduate in computer sceience from the University of Warwick. I currently live in Leamington Spa but will be permanently moving to Papworth Everard from August. During my course, I have quickly learnt and harnessed a variety of programming languages, such as Python, Java, C, JavaScript, HTML and CSS. I enjoy solving problems and utilising various software engineering methodologies to accomplish so. I am looking forward to putting my technical talents and creativity to use in a real-world context and developing as a professional in the fast-paced world of technology.
                            </div>
                        </div>
                        <div class="imgContainer">
                            <div class="secImg">
                                <img style="width:70%;" src="images/me.png" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="part2">
                    <div class="subtitle">Assisted Bridge</div>
                    <hr size="6px" color="#6ca7e0">
                    <div class="para">
                        <div class="imgContainer">
                            <div class="secImg">
                                <img style="width:90%;" src="images/diss.png" />
                            </div>
                        </div>
                        <div class="textContainer">
                            <div class="innerText">
                                This is my dissertation project. The project is an offline application for users to play Bridge, with a
                                virtual assistant that can guide them into making better decisions. This process rested on three
                                legs: implementing an application to play Bridge, artificial intelligence to serve as the three
                                other players, and a helpful assistant. For a more detailed breakdown, see the side-menu.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="part3">
                    <div class="subtitle">Deutsche Bank Project</div>
                    <hr size="6px" color="#6ca7e0">
                    <div class="para">
                        <div class="textContainer">
                            <div class="innerText">
                                During my course, I was part of a team that created a web app, named Mento, designed to promote Deutsche Bank's mentoring
                                programme so that employees can build on their technical skills within the company, and the company itself
                                can grow. My part in the team focussed on the project documentation and assisting with pair programming for both the development and testing aspects.
                                Using a blend of Plan-driven and Agile development, we created a smart and efficient app, which was awarded
                                second-best out of the 51 applications Deutsche Bank received.
                            </div>
                        </div>
                        <div class="imgContainer">
                            <div class="secImg">
                                <img style="width:70%;" src="images/mento.png" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="part4">
                    <div class="subtitle">This portfolio</div>
                    <hr size="6px" color="#6ca7e0">
                    <div class="para">
                        <div class="imgContainer">
                            <div class="secImg">
                                <img style="width:90%" src="images/portf.png" />
                            </div>
                        </div>
                        <div class="textContainer">
                            <div class="innerText">
                                This portfolio uses a simple blend of HTML, CSS and JavaScript. The aim of this project is to both neatly present myself to employers, and to build on my skills in these languages. Additionally, it allows me to constantly build on a project, safely adding new features over time.
                            </div>
                        </div>
                    </div>
                    <br><br>
                </div>
            </div>
            <footer>
                <div id="footerInner" class="footerInner">
                    <div style="tab-size: 8;">
                        Matthew Hill - University of Warwick graduate
                        <span class="tab"></span>
                        <a href="mailto:mhill13g@gmail.com">mhill13g@gmail.com</a>
                    </div>
            </footer>
        </div>
    </div>

    <script>
        // On resize, instantly move the sidenav and background appropriately for the screen
        window.onresize = onResize;
        window.onload = updatePartHeights;

        function onResize() {
            quickTransition();
            partHeights = []
            updatePartHeights();
        }

        // Variable to store the width of the sidenav in viewpoint width (vw)
        var navWidth = 0;

        // Toggle the hamburger icon, the sidenav appearance, and adjust the background's position and size
        function iconTransition(x) {
            // Set all transitions to be smooth
            document.getElementById("mySidenav").style.transitionDuration = "var(--transSpeed)"
            document.getElementById("background").style.transitionDuration = "var(--transSpeed)"

            // Toggle between hamburger and cross icon
            x.classList.toggle("change");
            if (navWidth) navWidth = 0;
            else navWidth = 15;

            // Move sizenav and background
            sidePanelMove();
            moveBackground();
        }

        // Instantly setup the backgruond and, if not for scrolling, the sidenav
        // Called when scrolling, window resize, or window onload
        function quickTransition(isScroll) {
            // Set all transitions to be instant
            document.getElementById("mySidenav").style.transitionDuration = "0s"
            document.getElementById("background").style.transitionDuration = "0s"
            if (!isScroll) sidePanelMove();
            moveBackground();
        }

        // Toggle the sidenav to its new navWidth, and adjust all other object accordingly
        function sidePanelMove() {
            document.getElementById("mySidenav").style.width = navWidth + "vw";
            document.getElementById("background").style.left = navWidth + "vw";
            document.getElementById("background").style.width = (100 - navWidth) + "vw";
            document.getElementById("content").style.marginLeft = (9 + (0.5 * navWidth)) + "vw";
            document.getElementById("footerInner").style.marginLeft = (9 + (0.5 * navWidth)) + "vw";
            document.getElementById("leftCol").style.marginLeft = (0.7 * navWidth) + "vw";
        }

        // Toggle the color of the hamburger / cross icon when hovered over
        function iconHover(x) {
            if (navWidth) {
                if (x.classList.contains("blue")) x.classList.remove("blue");
                else x.classList.toggle("white");
            }
            else {
                if (x.classList.contains("white")) x.classList.remove("white");
                else x.classList.toggle("blue");
            }
        }

        // Alter background such that it slides with the sidebar and adjusts its dimensions smoothly
        function moveBackground() {
            let img = new Image();
            img.src = getComputedStyle(document.getElementById("background")).getPropertyValue("background-image").slice(4, -1).replace(/"/g, "");
            let imgWidth = img.width;
            let imgHeight = img.height;

            let main = document.getElementById("main");
            let mainHeight = main.offsetHeight;
            let mainWidth = window.innerWidth * ((100 - navWidth) / 100);

            let actualImgHeight = imgHeight * mainWidth / imgWidth;

            let txtHeight = document.getElementById("main").scrollHeight;

            let scrollH = main.scrollTop;
            let speed = (actualImgHeight - mainHeight) / (txtHeight - mainHeight);
            let bgTop = scrollH * speed;

            document.getElementById("background").style.width = (100 - navWidth) + "vw";
            document.getElementById("background").style.top = "-" + bgTop + "px";
        }

        // Records the pixel location of the END of each section
        var partHeights = []
        function updatePartHeights() {
            if (partHeights.length == 0) {
                partHeights = [0]
                for (let i = 1; i < 10; i++) {
                    let elem = document.getElementById("part" + i)
                    if (!elem) break
                    partHeights.push(0)
                }
            }
            partHeights[0] = document.getElementById("title").offsetHeight;
            for (let i = 1; i < partHeights.length; i++) {
                partHeights[i] = document.getElementById("part" + i).offsetHeight + partHeights[i - 1];
            }
            textFading();
        }

        function textFading() {
            // Get the location of the center of the screen
            let centerHeight = document.getElementById("main").scrollTop + screen.height / 2

            // Set fade of each section based on scroll position
            for (let i = 1; i < partHeights.length; i++) {
                // Get location fo the center of this section
                let partCenter = partHeights[i - 1] + (partHeights[i] - partHeights[i - 1]) / 2

                // Calculate section's opacity based on closeness to the center of the screen
                let diff = Math.abs(partCenter - centerHeight)

                // If off the screen, give opacity 0. If "near" to center, give opacity 1. 
                // Span the values in between "off" and "near" following the quadratic curve (op = -x**2 + 2x)
                let opacity = 1
                let closeness = 0.4
                if (diff > screen.height / 2) opacity = 0
                else if (diff < closeness * screen.height / 2) opacity = 1
                else {
                    let x = (1 - (2 * diff / screen.height)) / (1 - closeness)
                    opacity = -Math.pow(x, 2) + 2 * x
                }

                document.getElementById("part" + i).style.opacity = opacity
            }
        }

    </script>
</body>

</html>